<!DOCTYPE html>
<html class="no-js">
  <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title></title>
      <meta name="description" content="">
      <meta name="viewport" content="width=device-width, initial-scale=1">

      <link rel="stylesheet" href="css/bootstrap.min.css">
   
      <link rel="stylesheet" href="css/bootstrap-theme.min.css">
      <link rel="stylesheet" href="css/main.css">
      
      <script src="js/main.js"></script>  
      <script src="js/vendor/jquery-1.11.1.min.js"></script>
      <script src="js/jquery.validate.js"></script>
      <script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>

  </head>
    <body>
      <div id="menu"></div>
      <div class="container">
        <div class="row">
          <h2>Choose date range</h2>
          <form action="#" method="get" id="chooseDates">
            <div class="form-group">
              <label for="startDate">Choose start date</label>
              <div id="submit-align">
                <input type="submit"  class="btn btn-default" id="submit" style="float:right"/>
              </div>
              <div id="form-input-date">
                <input required type="date" class="form-control" id="startDate" name="startDate" style="width:100%">
              </div> 
            </div>   
          </form>
        </div>
        <div class="row">
          <div class="col-xs-6">
            <form action="#" method="get" id="getWeek">
              <div class="form-group">
                <input type="submit"  class="btn btn-default centre" id="week" value="Previous Week" style="float:none"/>
              </div>
            </form>
          </div>
          <div class="col-xs-6">
            <form action="#" method="get" id="getMonth">
              <div class="form-group">
                <input type="submit"  class="btn btn-default centre" id="month" value="Previous Month"/>
              </div>
            </form>
          </div>
        </div>
        <div class="row">
          <table class="table table-hover" id="result">
            
          </table>
        </div>
      </div>

      <script>
        document.getElementById('startDate').valueAsDate = new Date();
      </script>
      
      <script>
        $("#chooseDates").submit(function(){
          $("#result").empty();
          $.ajax({
            type: "GET",
            url: "view.php",
            data: $('#chooseDates').serialize(),
            dataType: "html",
            success: function(msg){
              $("#result").append(msg);
            },
            error: function(){
              $("#result").append("<h1> Damnit it didn't work! </h1>");
            }
          });
          return false;
        });
      </script>
      <script>
        $("#getWeek").submit(function(){
          $("#result").empty();
          $.ajax({
            type: "GET",
            url: "viewWeek.php",
            data: $('#chooseDates').serialize(),
            dataType: "html",
            success: function(msg){
              $("#result").append(msg);
            },
            error: function(){
              $("#result").append("<h1> Damnit it didn't work! </h1>");
            }
          });
          return false;
        });
      </script>
      <script>
        $("#getMonth").submit(function(){
          $("#result").empty();
          $.ajax({
            type: "GET",
            url: "viewMonth.php",
            data: $('#getMonth').serialize(),
            dataType: "html",
            success: function(msg){
              $("#result").append(msg);
            },
            error: function(){
              $("#result").append("<h1> Damnit it didn't work! </h1>");
            }
          });
          return false;
        });
      </script>
    </body>
  </html>

